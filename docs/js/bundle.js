!function(o){function e(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return o[t].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=o,e.c=n,e.d=function(o,n,t){e.o(o,n)||Object.defineProperty(o,n,{configurable:!1,enumerable:!0,get:t})},e.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(n,"a",n),n},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=0)}([function(o,e,n){"use strict";n(1),$(document).ready(function(){function o(o,e){e||(e="Saving..."),o.data("text",o.text()).attr("disabled","disabled").text(e)}function e(o){var e=o.data("text")||"SAVE";o.removeAttr("disabled").text(e)}function n(o,e){e||(e=".form-contact");var n=$(e).find(".js-error-message");n.text(o),n.removeClass("hidden")}function t(o){o||(o=".form-contact"),$(o).find(".js-error-message").addClass("hidden"),$(o).find(".error").removeClass("error")}function a(o){return/\S+@\S+\.\S+/.test(o)}var r="https://dollar-effect.appspot.com/api/v1";$(".form-contact").on("submit",function(i){i.preventDefault();var s=$(this),d=s.find("button[type='submit']"),f=["org_name","full_name","email","country_code","phone"];o(d),t();var l=s.serializeArray(),u={},m=[],c=!1;return l.forEach(function(o){"email"!=o.name||a(o.value)||(c=!0),-1==f.indexOf(o.name)||o.value||m.push(o.name),u[o.name]=o.value}),u.now=moment().format("MM/DD/YYYY"),m.length?(m.forEach(function(o,e){$("[name='"+o+"']").addClass("error")}),s.find(".error").first().focus(),e(d),n("Oops! You missed some required fields."),!1):c?(s.find("[name='email']").addClass("error").focus(),e(d),n("Oops! Please input valid email address."),!1):void $.post(r+"/contact",u,function(o){200==o.status&&(s.trigger("reset"),$("#modalContact").one("hidden.bs.modal",function(o){$("#modalConfirm").modal("show")}),$("#modalContact").modal("hide"))}).always(function(){e(d)})}),$(".form-donate").on("submit",function(i){i.preventDefault();var s=$(this),d=s.find("button[type='submit']"),f=s.find("[name='notif_email']"),l=f.val();if(o(d,"Subscribing..."),t(".form-donate"),!a(l))return f.addClass("error").focus(),n("Oops! Please input valid email address.",".form-donate"),void e(d);$.post(r+"/subscribe",{email:l,now:moment().format("MM/DD/YYYY")},function(o){200==o.status&&(s.trigger("reset"),$("#modalDonate").one("hidden.bs.modal",function(o){$("#modalDonationConfirm").modal("show")}),$("#modalDonate").modal("hide"))}).always(function(){e(d)})}),$("#btnLearnMore").on("click",function(){$("html, body").animate({scrollTop:$("#works").offset().top+20},1e3)}),$("#modalDonate").on("shown.bs.modal",function(){$(this).find(".form-control").focus()}),$("#modalVideo").on("shown.bs.modal",playVideo),$("#modalVideo").on("hidden.bs.modal",pauseVideo)})},function(o,e){}]);